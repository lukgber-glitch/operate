# Operate API Environment Configuration
NODE_ENV=production
PORT=3000

# Database - Neon PostgreSQL (https://neon.tech)
# REQUIRED: Application will not start without this
DATABASE_URL=postgresql://user:password@host.neon.tech/neondb?sslmode=require

# JWT Secrets
# REQUIRED: Application will not start without these
# Generate secure secrets with: openssl rand -base64 32
# NEVER use default/placeholder values in production
JWT_ACCESS_SECRET=your-jwt-access-secret-here
JWT_REFRESH_SECRET=your-jwt-refresh-secret-here
# Optional: Token expiration times (defaults shown)
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Redis
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=

# Queue Monitoring
QUEUE_ADMIN_KEY=your-secure-admin-key-here
BULL_BOARD_ENABLED=true
QUEUE_METRICS_ENABLED=true
QUEUE_FAILURE_THRESHOLD=100

# === APP URLS ===
# PRODUCTION: Update to your actual production domain
APP_URL=https://your-domain.com
CORS_ORIGINS=https://your-domain.com,http://localhost:3000

# AI Services
ANTHROPIC_API_KEY=sk-ant-api03-your-key-here
OPENAI_API_KEY=sk-your-openai-key-here

# Sentry Error Tracking
SENTRY_DSN=https://examplePublicKey@o0.ingest.sentry.io/0
SENTRY_ORG=operate
SENTRY_PROJECT_API=operate-api
SENTRY_AUTH_TOKEN=your-sentry-auth-token

# Google OAuth
# PRODUCTION: Update callback URL to match your production domain
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=https://your-domain.com/api/v1/auth/google/callback

# TrueLayer (UK/EU Open Banking)
# PRODUCTION: Use 'production' for live banking (default: production)
TRUELAYER_ENV=production
TRUELAYER_CLIENT_ID=your-truelayer-client-id
TRUELAYER_CLIENT_SECRET=your-truelayer-secret
TRUELAYER_REDIRECT_URI=https://your-domain.com/api/v1/integrations/truelayer/callback
TRUELAYER_WEBHOOK_URL=https://your-domain.com/api/v1/integrations/truelayer/webhook
TRUELAYER_WEBHOOK_SECRET=your-webhook-secret
# Optional: Token encryption key (defaults to JWT_SECRET if not provided)
TRUELAYER_ENCRYPTION_KEY=your-encryption-key-here
# Legacy support (deprecated - use TRUELAYER_ENV instead)
# TRUELAYER_SANDBOX=false

# Microsoft OAuth (optional)
# PRODUCTION: Update callback URL to match your production domain
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=
MICROSOFT_CALLBACK_URL=https://your-domain.com/api/v1/auth/microsoft/callback

# SendGrid Email Service
SENDGRID_API_KEY=SG.your-sendgrid-api-key-here
SENDGRID_FROM_EMAIL=noreply@operate.guru
SENDGRID_FROM_NAME=Operate

# === BANKING & PAYMENT INTEGRATIONS ===

# Plaid (US Banking)
# PRODUCTION: Set PLAID_ENV=production and use live credentials
PLAID_ENV=sandbox
PLAID_CLIENT_ID=your-plaid-client-id
PLAID_SECRET=your-plaid-secret
PLAID_WEBHOOK_URL=https://your-domain.com/api/v1/integrations/plaid/webhook
PLAID_WEBHOOK_SECRET=your-webhook-verification-key
PLAID_REDIRECT_URI=https://your-domain.com/integrations/plaid/callback
PLAID_ENCRYPTION_KEY=your-32-character-encryption-key-here

# Stripe Payments
# PRODUCTION: Use live keys (sk_live_*, pk_live_*) instead of test keys
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Tink (EU Banking)
TINK_CLIENT_ID=your-tink-client-id
TINK_CLIENT_SECRET=your-tink-client-secret
TINK_REDIRECT_URI=https://your-domain.com/api/v1/integrations/tink/callback
# PRODUCTION: MUST be false in production (true returns 119 mock test banks)
TINK_MOCK_MODE=true
# PRODUCTION: Set to 'production' for live banking data (default: 'sandbox')
TINK_ENVIRONMENT=sandbox
# Optional: Encryption key for tokens (defaults to JWT_SECRET if not provided)
TINK_ENCRYPTION_KEY=your-32-character-encryption-key-here

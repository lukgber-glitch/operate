# TransactionInsight Component - Visual Guide

## Component Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TransactionInsight Card                        â”‚ Red Border â”‚ <- Debit
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ HEADER                                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ [â†“]  â”‚ â”‚ -â‚¬234.50                 â”‚ â”‚ [UNMATCHED]      â”‚â”‚
â”‚ â”‚ Red  â”‚ â”‚ Amazon Web Services      â”‚ â”‚ Yellow Badge     â”‚â”‚
â”‚ â”‚ Icon â”‚ â”‚ [ğŸ¢] AWS EMEA SARL       â”‚ â”‚                  â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CONTENT                                                      â”‚
â”‚                                                              â”‚
â”‚ Transaction Details:                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ [ğŸ“…] Jan 15, 2024 â”‚ â”‚ [ğŸ·ï¸] Cloud Services          â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚ Tax Category:                                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Tax Category                  [Operating Expenses]    â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚ AI Classification Confidence:                                â”‚
â”‚ AI Classification Confidence              High (92%)        â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘  92%       [Green]           â”‚
â”‚                                                              â”‚
â”‚ Quick Actions:                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚ â”‚ Categorize   â”‚ â”‚ Match        â”‚ â”‚ Ignore       â”‚        â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## State Variations

### 1. Unmatched Debit Transaction (Expense)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RED BORDER                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚ â”‚  â†“   â”‚ -â‚¬234.50                   [UNMATCHED]    â”‚
â”‚ â”‚ RED  â”‚ Amazon Web Services        Yellow         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ AWS EMEA SARL                              â”‚
â”‚                                                      â”‚
â”‚ [ğŸ“…] Jan 15, 2024    [ğŸ·ï¸] Cloud Services         â”‚
â”‚ Tax Category: Operating Expenses                    â”‚
â”‚ Confidence: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 92% (High/Green)          â”‚
â”‚ [Categorize] [Match] [Ignore]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Unmatched Credit Transaction (Income)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GREEN BORDER                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”                                             â”‚
â”‚ â”‚  â†‘   â”‚ +$1,500.00                 [UNMATCHED]     â”‚
â”‚ â”‚GREEN â”‚ Client Payment             Yellow          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ Acme Corp                                   â”‚
â”‚                                                       â”‚
â”‚ [ğŸ“…] Jan 16, 2024    [ğŸ·ï¸] Client Payments        â”‚
â”‚ Tax Category: Revenue                                â”‚
â”‚ Confidence: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 88% (High/Green)           â”‚
â”‚ [Match]                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Matched Transaction (Reconciled)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RED BORDER                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚ â”‚  â†“   â”‚ -â‚¬450.00                   [MATCHED]      â”‚
â”‚ â”‚ RED  â”‚ Office Supplies            Green          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ Staples Inc.                               â”‚
â”‚                                                      â”‚
â”‚ [ğŸ“…] Jan 14, 2024    [ğŸ·ï¸] Office Expenses        â”‚
â”‚ Tax Category: Deductible Expenses                   â”‚
â”‚ Confidence: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 95% (High/Green)         â”‚
â”‚                                                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ âœ“ This transaction has been matched and     â”‚    â”‚
â”‚ â”‚   reconciled                                 â”‚    â”‚
â”‚ â”‚ [Green background]                           â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. Ignored Transaction

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RED BORDER                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚ â”‚  â†“   â”‚ -â‚¬5.00                     [IGNORED]      â”‚
â”‚ â”‚ RED  â”‚ Bank Fee                   Gray           â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚                                                      â”‚
â”‚ [ğŸ“…] Jan 01, 2024    [ğŸ·ï¸] Bank Fees              â”‚
â”‚ Confidence: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 99% (High/Green)        â”‚
â”‚                                                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ âŠ— This transaction has been marked as       â”‚    â”‚
â”‚ â”‚   ignored                                    â”‚    â”‚
â”‚ â”‚ [Gray background]                            â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5. Low Confidence Transaction

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RED BORDER                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚ â”‚  â†“   â”‚ -Â£89.99                    [UNMATCHED]    â”‚
â”‚ â”‚ RED  â”‚ POS Purchase               Yellow         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚                                                      â”‚
â”‚ [ğŸ“…] Jan 17, 2024    [ğŸ·ï¸] Miscellaneous          â”‚
â”‚ Confidence: â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 45% (Low/Red)            â”‚
â”‚ [Categorize]                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Color Scheme

### Border Colors (Left 4px Border)

- **Debit**: `border-l-red-500`
- **Credit**: `border-l-green-500`

### Amount Colors

- **Debit**: Red text (`text-red-600 dark:text-red-400`)
- **Credit**: Green text (`text-green-600 dark:text-green-400`)

### Status Badge Colors

| Status    | Background | Text Color | Icon        |
|-----------|------------|------------|-------------|
| UNMATCHED | Yellow-100 | Yellow-700 | TrendingUp  |
| MATCHED   | Green-100  | Green-700  | CheckCircle |
| IGNORED   | Gray-100   | Gray-700   | XCircle     |

### Confidence Levels

| Level      | Range    | Progress Color | Text Color  |
|------------|----------|----------------|-------------|
| High       | â‰¥80%     | Green (500)    | Green       |
| Medium     | 60-79%   | Yellow (500)   | Yellow      |
| Low        | <60%     | Red (500)      | Red         |

## Icon Usage

### Transaction Type Icons (Header)
- **Debit (Expense)**: `ArrowDownCircle` - Red background
- **Credit (Income)**: `ArrowUpCircle` - Green background

### Detail Icons (Content)
- **Date**: `Calendar`
- **Category**: `Tag`
- **Merchant**: `Building2`

### Status Icons (Badges)
- **Matched**: `CheckCircle`
- **Unmatched**: `TrendingUp`
- **Ignored**: `XCircle`

### Action Icons (Buttons)
- **Categorize**: `Tag`
- **Match**: `CheckCircle`
- **Ignore**: `XCircle`

## Typography

```
Amount:       text-lg font-bold
Description:  text-sm font-medium
Merchant:     text-xs text-muted-foreground
Date/Category: text-xs/text-sm
Confidence:   text-xs
Badge text:   text-xs font-semibold
```

## Spacing & Layout

```
Card Padding: p-6 (CardHeader) / p-6 pt-0 (CardContent)
Icon Background: p-2 rounded-lg
Badge Padding: px-2.5 py-0.5
Button Size: sm (h-9 px-4)
Progress Height: h-2
Border: border-l-4
Gaps: gap-2, gap-3
```

## Responsive Behavior

### Desktop (â‰¥1024px)
```
Full layout with all details visible
Grid: 2 columns for date/category
All action buttons in a row
```

### Tablet (768px - 1023px)
```
Grid adapts to available space
Action buttons may wrap
Text truncation for long descriptions
```

### Mobile (< 768px)
```
Single column layout
Vertical stacking
Action buttons stack vertically
Amount prominently displayed
```

## Dark Mode

All colors automatically adapt using Tailwind's dark mode:

- `dark:bg-red-950` instead of `bg-red-100`
- `dark:text-red-400` instead of `text-red-600`
- `dark:border-red-700` instead of `border-red-300`

## Component Hierarchy

```
Card (border-l-4 with transaction type color)
â””â”€ CardHeader (pb-3)
   â””â”€ Flex Container (items-start justify-between)
      â”œâ”€ Flex Container (gap-3)
      â”‚  â”œâ”€ Icon Container (p-2 rounded-lg)
      â”‚  â”‚  â””â”€ AmountIcon (h-5 w-5)
      â”‚  â””â”€ Content Container
      â”‚     â”œâ”€ CardTitle (amount)
      â”‚     â”œâ”€ Description (text-sm)
      â”‚     â””â”€ Merchant (text-xs with Building2 icon)
      â””â”€ Status Badge
â””â”€ CardContent (space-y-4)
   â”œâ”€ Details Grid (2 columns)
   â”‚  â”œâ”€ Date (with Calendar icon)
   â”‚  â””â”€ Category (with Tag icon)
   â”œâ”€ Tax Category Section (if present)
   â”œâ”€ Confidence Section (if present)
   â”‚  â”œâ”€ Label Row
   â”‚  â””â”€ Progress Bar
   â”œâ”€ Quick Actions (if unmatched)
   â”‚  â”œâ”€ Categorize Button
   â”‚  â”œâ”€ Match Button
   â”‚  â””â”€ Ignore Button
   â””â”€ Status Message (if matched/ignored)
```

## Best Practices

1. **Always provide currency code** for proper formatting
2. **Use absolute amounts** (component handles sign display)
3. **Provide optional fields** when available for richer display
4. **Include action handlers** only for unmatched transactions
5. **Test with various amounts** (small, large, decimal)
6. **Test with long text** to verify truncation
7. **Verify dark mode** appearance
8. **Test all status states** in your implementation

## Example Usage in Context

```tsx
// In a chat message flow
<div className="space-y-2">
  <div className="bg-muted p-3 rounded-lg">
    <p>I found 3 unmatched transactions from last week.</p>
  </div>

  <TransactionInsight transaction={transaction1} {...handlers} />
  <TransactionInsight transaction={transaction2} {...handlers} />
  <TransactionInsight transaction={transaction3} {...handlers} />
</div>
```

## Accessibility Notes

- Icons are paired with text labels
- Color coding is supplemented with icons
- Buttons have clear text labels
- Status is conveyed through multiple visual cues
- Keyboard accessible via standard button navigation
- Screen readers can navigate the card structure

---

**Component File**: `apps/web/src/components/chat/TransactionInsight.tsx`
**Lines of Code**: 310
**Created**: 2024-12-07
**Agent**: PRISM (Frontend Specialist)

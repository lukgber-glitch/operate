# Chat File Upload - Visual Guide

## UI States

### 1. Normal State (No Files)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚  [ðŸ“Ž] [ðŸŽ¤]  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  [â–¶]  â”‚
â”‚              â”‚ Type your message...                â”‚       â”‚
â”‚              â”‚                                     â”‚       â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                             â”‚
â”‚  Press Enter to send, Shift + Enter for new line           â”‚
â”‚                         Drag & drop files or click ðŸ“Ž      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Dragging Files Over Input
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚                                                         â”‚ â”‚
â”‚ â”‚                    â¬†ï¸                                   â”‚ â”‚
â”‚ â”‚            Drop files to attach                        â”‚ â”‚
â”‚ â”‚      PDF, images, Excel, CSV (max 10MB)               â”‚ â”‚
â”‚ â”‚                                                         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       ^^^^^ Background accent, border highlighted ^^^^^
```

### 3. Files Attached
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ ðŸ“„ invoice.pdf  â”‚  â”‚ ðŸ–¼ï¸ receipt.jpg  â”‚               â”‚
â”‚  â”‚ 245 KB      [x] â”‚  â”‚ 1.2 MB     [x] â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚      (red chip)           (blue chip)                      â”‚
â”‚                                                             â”‚
â”‚  [ðŸ“Žâ‚‚] [ðŸŽ¤]  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” [â–¶]  â”‚
â”‚               â”‚ Type your message...                â”‚      â”‚
â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   ^^^^ Badge shows "2" files attached
```

### 4. Error State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ âš ï¸ File "document.docx" is not supported [Dismiss] â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         ^^^^^ Red error message bar                        â”‚
â”‚                                                             â”‚
â”‚  [ðŸ“Ž] [ðŸŽ¤]  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  [â–¶]  â”‚
â”‚              â”‚ Type your message...                â”‚       â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Attachment Chip Details

### PDF Attachment
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â” invoice.pdf [x]â”‚
â”‚ â”‚ðŸ“„  â”‚ 245 KB         â”‚
â”‚ â””â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  Red background
  (bg-red-100 text-red-700)
```

### Image Attachment
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â” receipt.jpg [x]â”‚
â”‚ â”‚ðŸ–¼ï¸ â”‚ 1.2 MB         â”‚
â”‚ â””â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  Blue background
  (bg-blue-100 text-blue-700)

With Preview:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â” photo.png  [x] â”‚
â”‚ â”‚ðŸ“·  â”‚ 850 KB         â”‚
â”‚ â””â”€â”€â”€â”€â”˜                 â”‚
â”‚  ^^^^ Actual thumbnail â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Excel/CSV Attachment
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â” expenses.xlsx[x]â”‚
â”‚ â”‚ðŸ“Š  â”‚ 512 KB         â”‚
â”‚ â””â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  Green background
  (bg-green-100 text-green-700)
```

## Icon Reference

### File Type Icons (lucide-react)

| Type  | Icon           | Usage              |
|-------|----------------|--------------------|
| PDF   | FileText       | PDFs               |
| Image | Image          | JPG, PNG, WEBP     |
| Excel | FileSpreadsheet| XLS, XLSX          |
| CSV   | FileSpreadsheet| CSV files          |
| Other | File           | Unsupported types  |

### UI Icons

| Icon      | Purpose                    | Location        |
|-----------|----------------------------|-----------------|
| Paperclip | Attach file button         | Input bar left  |
| Upload    | Drag overlay               | Center overlay  |
| X         | Remove attachment          | Chip top-right  |
| Send      | Send message               | Input bar right |
| Loader2   | Loading spinner            | Send button     |
| Mic       | Voice input (optional)     | Input bar left  |

## Color Palette

### File Type Colors

```css
/* PDF - Red */
bg-red-100    /* #fee2e2 */
text-red-700  /* #b91c1c */
border-red-200

/* Image - Blue */
bg-blue-100   /* #dbeafe */
text-blue-700 /* #1d4ed8 */
border-blue-200

/* Excel - Green */
bg-green-100  /* #dcfce7 */
text-green-700 /* #15803d */
border-green-200

/* CSV - Purple */
bg-purple-100  /* #f3e8ff */
text-purple-700 /* #7e22ce */
border-purple-200

/* Other - Gray */
bg-gray-100   /* #f3f4f6 */
text-gray-700 /* #374151 */
border-gray-200
```

### Semantic Colors

```css
/* Error */
bg-destructive/10    /* Light red background */
border-destructive/20 /* Red border */
text-destructive     /* Red text */

/* Drag Active */
bg-accent/50         /* Light accent */
border-primary       /* Primary color border */

/* Primary (Active state) */
text-primary         /* When files attached */
```

## Responsive Behavior

### Desktop (>768px)
- Full layout with hints on both sides
- Attachment chips in horizontal row
- All buttons visible

### Tablet (768px - 1024px)
- Slightly condensed
- Chips may wrap to 2 rows
- Hints remain visible

### Mobile (<768px)
- Bottom hint hidden (save space)
- Chips stack vertically
- Touch-optimized hit areas

## Interaction Flows

### Flow 1: Drag and Drop
```
User drags file over input
  â†“
Background highlights, overlay shows
  â†“
User drops file
  â†“
File validates (type, size)
  â†“
Preview chip appears
  â†“
User clicks send
  â†“
Files upload, message sends
  â†“
Chips clear
```

### Flow 2: Click to Browse
```
User clicks ðŸ“Ž button
  â†“
File picker dialog opens
  â†“
User selects files (can multi-select)
  â†“
Files validate
  â†“
Preview chips appear
  â†“
User types message
  â†“
User clicks send
  â†“
Files upload, message sends
```

### Flow 3: Remove Before Send
```
User attaches files
  â†“
Preview chips appear
  â†“
User clicks [x] on a chip
  â†“
Chip removed from preview
  â†“
Counter updates
  â†“
User can add more or send
```

## Accessibility Features

### ARIA Labels
- File input: `aria-label="File upload input"`
- Attach button: `aria-label="Attach file"`
- Remove button: `aria-label="Remove {filename}"`
- Send button: `aria-label="Send message"`
- Message input: `aria-label="Message input"`

### Keyboard Navigation
- Tab: Navigate between buttons
- Enter: Activate button (send, remove, etc.)
- Space: Activate button
- Shift+Enter: New line in textarea

### Screen Reader Announcements
- Error messages: `aria-live="polite"`
- Character counter: `aria-live="polite"`
- File attached: Announced via tooltip

## Animation & Transitions

### Drag Over
```css
transition: colors 200ms ease-in-out
bg-background â†’ bg-accent/50
border-default â†’ border-primary
```

### Error Message
```css
Fade in: opacity 0 â†’ 1 (150ms)
Slide down: translateY(-10px) â†’ 0
```

### Chip Add/Remove
```css
Scale in: scale(0.95) â†’ scale(1) (200ms)
Fade in: opacity 0 â†’ 1
```

## Layout Specs

### Input Container
- Padding: 16px (p-4)
- Border: 1px solid (border-t)
- Background: Background color

### Attachment Chips
- Padding: 8px (p-2)
- Gap: 8px (gap-2)
- Border radius: 8px (rounded-lg)
- Min width: 180px
- Max width: 250px

### Icons
- Size: 16px (h-4 w-4)
- Thumbnail: 40px x 40px (h-10 w-10)

### Counter Badge
- Height: 20px (h-5)
- Padding: 6px (px-1.5)
- Font size: 12px (text-xs)
- Position: absolute -top-1 -right-1

## Tooltips

Hover states show additional information:

- **Attach button**: "Attach files (2/5)" - Shows count and limit
- **File chip**: Full filename if truncated
- **Remove button**: "Remove {filename}"

## Loading States

### During Upload
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ðŸ“Ž] [ðŸŽ¤]  [...........] [â³]      â”‚
â”‚                 â†‘           â†‘       â”‚
â”‚              Loading    Disabled    â”‚
â”‚              spinner      send      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Upload Complete
```
Files clear automatically
Input returns to normal state
Ready for next message
```

## Edge Cases Handled

1. **Max files reached** â†’ Error message, attach button disabled
2. **File too large** â†’ Error message, file rejected
3. **Wrong file type** â†’ Error message, file rejected
4. **Slow network** â†’ Loading state shown
5. **Upload failure** â†’ Error message, files retained
6. **Very long filename** â†’ Truncated with ellipsis
7. **No message + no files** â†’ Send button disabled
8. **Files only, no message** â†’ Sends with "Attached files" text
